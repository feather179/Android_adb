cmake_minimum_required(VERSION 3.21)

set(ADB_FASTDEPLOY_PROTO_FILES
    ApkEntry.proto
)

execute_process(
    COMMAND ${PROTOC_EXE} --proto_path ${CMAKE_CURRENT_SOURCE_DIR} --cpp_out=${CMAKE_CURRENT_BINARY_DIR} ${ADB_FASTDEPLOY_PROTO_FILES}
    COMMAND ${PROTOC_EXE} --proto_path ${CMAKE_CURRENT_SOURCE_DIR} --java_out=${CMAKE_CURRENT_BINARY_DIR} ${ADB_FASTDEPLOY_PROTO_FILES}
    WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
)
